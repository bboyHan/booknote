# 二、基础语法与规范

## 1、package

我们在使用其它语言的情况，比如Java（本主是Java出身，0rz，以此为例），是有“包”这个概念的，其实，就可以简单的理解为是便于管理和组织所有的文件所使用的，比如java中常用的类String，它就隶属于“java.lang”包下的类。（当然，新手不理解也没有关系）。在Go当中，也是类似的概念，它将我们的go文件（文件的后缀名为“.go”）组织起来，可以方便进行归类、复用等。 

我们在[上一篇](https://github.com/bboyHan/booknote/blob/master/golang/%E4%B8%80%E3%80%81%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE.md)提到了API，查阅API你会看到这样的一些文件结构，比如encoding包，下面就有base32、base64、hex、json等等，当需要使用时，则

```go
//使用“import”关键字进行导入，比如：
 
import "fmt"

//或者
import (
  "fmt"
  "os"
)
```

go语言的包的命名，遵循简洁、小写、和go文件所在目录同名的原则，这样就便于我们引用，书写以及快速定位查找。对于在企业当中开发的程序而言，我们一般采用域名作为顶级包名的方式，这样就不用担心和其他开发者包名重复的问题了，比如公司的域名是`www.bboyHan.com`，那么开发的go程序都以`bboyHan.com`作为全路径中的最顶层部分，导入开发的工具包则可以写为:

```go
package main
 
import "bboyHan.com/utils"
```

## 2、main

在java当中，有一个主程序的入口main（）方法，而Go语言程序，也是类似。当把一个go文件的包名声明为main时，就等于告诉go编译程序，这是一个可执行程序，那么go编译程序就会尝试把它编译为一个二进制的可执行文件。如果没有这个函数，程序就无法执行。

```go
//注意点：在go语言里，同时要满足main包和包含main()函数，才会被编译成一个可执行文件。
 
package main
 
import "fmt"
 
func main(){
  fmt.Println("接下来，请在这里搞事情。")
}
```

**提问：Go编译器又是如何去寻找各个文件、包之间的依赖关系而构建程序的呢？**

答：提到了环境变量GOROOT和GOPATH两个概念,这是两个定义路径的环境变量，GOROOT是安装Go的路径，比如 C:\go ；GOPATH是我们自己定义的开发者个人的工作空间，比如C:\workspace\src\bbboyHan。
  
编译器会使用我们设置的这两个路径，再加上import导入的相对全路径来查找磁盘上的包，比如我们导入的fmt包，编译器最终找到的是 C:\go\fmt 这个位置。对于包的查找，是有优先级的，编译器会优先在GOROOT里搜索，其次是GOPATH,一旦找到，就会马上停止搜索。如果最终都没找到，就会报编译异常了。


